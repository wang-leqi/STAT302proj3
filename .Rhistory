devtools::document()
devtools::document()
devtools::document()
devtools::install()
devtools::install()
devtools::document()
devtools::install()
devtools::document()
?lm
knitr::opts_chunk$set(echo = TRUE)
#### function ###
my_rf_cv <- function(k) {
dat <- penguins %>%
select(body_mass_g, bill_length_mm,
bill_depth_mm, flipper_length_mm)
dat <- na.omit(dat)
# split data
dat$split <- sample(rep(1:k, length = nrow(dat)))
# initialize prediction matrix
predict_mat <- rep(NA, nrow(dat))
mse <- matrix(NA, k, 1)
# iterate through k-folds
for (i in 1:k){
data_train <- dat %>% filter(split != i)
data_test <- dat %>% filter(split == i)
result <- randomForest(body_mass_g ~ bill_length_mm +
bill_depth_mm + flipper_length_mm,
data = data_train,
ntree = 100)
mse[i, 1] <- mean((predict(result, test[, -1]) - data_test$body_mass_g)^2)
}
# return CV error
return(list("MSE" = mean(mse)))
}
# test
my_rf_cv(k = 5)
library(palmerpenguins)
library(tidyverse)
library(class)
library(randomForest)
# data(package = "palmerpenguins")
data("penguins")
# test
my_rf_cv(k = 5)
#### function ###
my_rf_cv <- function(k) {
dat <- penguins %>%
select(body_mass_g, bill_length_mm,
bill_depth_mm, flipper_length_mm)
dat <- na.omit(dat)
# split data
dat$split <- sample(rep(1:k, length = nrow(dat)))
# initialize prediction matrix
predict_mat <- rep(NA, nrow(dat))
mse <- matrix(NA, k, 1)
# iterate through k-folds
for (i in 1:k){
data_train <- dat %>% filter(split != i)
data_test <- dat %>% filter(split == i)
result <- randomForest(body_mass_g ~ bill_length_mm +
bill_depth_mm + flipper_length_mm,
data = data_train,
ntree = 100)
mse[i, 1] <- mean((predict(result, data_test[, -1]) - data_test$body_mass_g)^2)
}
# return CV error
return(list("MSE" = mean(mse)))
}
# test
my_rf_cv(k = 5)
devtools::document()
devtools::document()
devtools::document()
devtools::install()
devtools::document()
devtools::install()
library(STAT302proj3)
?my_rf_cv
devtools::check()
do.call()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::install_github("wang-leqi/STAT302proj3")
devtools::install_github("leqiw/STAT302proj3")
usethis::use_readme_md()
usethis::use_github_action_check_standard()
usethis::use_testthat()
usethis::use_test("my_knn_cv")
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
usethis::use_github_action("test-coverage")
library(palmerpenguins)
data(penguins)
my_penguins <- penguins
usethis::use_data(my_penguins)
force(penguins_raw)
usethis::use_vignette("tutorial", title = "Project 3: PACKAGE_NAME Tutorial")
library(STAT302proj3)
devtools::install_github("wang-leqi/STAT302proj3", build_vignette = TRUE, build_opts = c())
library(STAT302proj3)
devtools::install_github("wang-leqi/STAT302proj3", build_vignette = TRUE, build_opts = c())
library(STAT302proj3)
devtools::install_github("wang-leqi/STAT302proj3", build_vignette = TRUE, build_opts = c())
library(STAT302proj3)
library(STAT302proj3)
devtools::check()
devtools::document
devtools::document()
devtools::document()
devtools::check()
devtools::document()
devtools::document()
devtools::document()
devtools::test()
usethis::use_github_action("test-coverage")
usethis::use_data(my_gapminder)
library(gapminder)
data("gapminder")
my_gapminder <- gapminder
usethis::use_data(my_gapminder)
devtools::document()
devtools::check()
devtools::document()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
t
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
test_that("my_knn_cv returns a numeric Estimate", {
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 1, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 2, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 3, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 4, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 6, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 7, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 8, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 9, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 10, k_cv = 5 ),"list")
})
library(tidyverse)
library(class)
my_penguins <- drop_na(my_penguins)
test_that("my_knn_cv returns a numeric Estimate", {
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 1, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 2, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 3, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 4, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 6, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 7, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 8, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 9, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 10, k_cv = 5 ),"list")
})
devtools::document()
devtools::check()
library("randomForest")
library("tidyverse")
library(tidyverse)
library(randomForest)
# within test-my_rf_cv.R
test_that("non_numeric k throws error", {
expect_error(my_rf_cv("5"))
})
test_that("my_t.test works mathematically", {
expect_type(my_rf_cv(5), "double")
})
library("randomForest")
library("tidyverse")
test_that("my_rf_cv returns a numeric Estimate", {
expect_is(my_rf_cv(k = 5),"numeric")
})
test_that("non_numeric k throws error", {
expect_error(my_rf_cv("5"))
})
test_that("my_rf_cv returns a numeric Estimate", {
expect_is(my_rf_cv(k = 5),"numeric")
})
test_that("my_t.test works mathematically", {
expect_type(my_rf_cv(5), "double")
})
my_rf_cv(5)
test_that("my_t.test works mathematically", {
expect_type(my_rf_cv(5), "double")
})
test_that("my_t.test works mathematically", {
expect_type(my_rf_cv(5), "double")
})
devtools::document()
test_that("my_t.test works mathematically", {
expect_type(my_rf_cv(5), "double")
})
devtools::document()
devtools::check()
devtools::test()
devtools::install_github("wang-leqi/STAT302proj3", build_vignette = TRUE, build_opts = c())
data(my_gapminder)
test_that("my_lm returns a numeric Estimate", {
expect_is(my_lm(lifeExp ~ gdpPercap + continent, data = my_gapminder)$Estimate,"matrix")
})
devtools::document()
data(my_gapminder)
test_that("my_lm returns a numeric Estimate", {
expect_is(my_lm(lifeExp ~ gdpPercap + continent, data = my_gapminder)$Estimate,"matrix")
})
library(STAT302proj3)
library(tidyr)
devtools::document()
install.packages(dyplr)
install.packages("dyplr")
devtools::document()
rlang::last_error()`
''
)
)
rlang::last_error()
devtools::check()
devtools::document()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
devtools::install_github("wang-leqi/STAT302proj3", build_vignette = TRUE, build_opts = c())
library(dplyr)
library(tidyverse)
library(dplyr)
documents()
document()
library(devtools)
library(usethis)
library(devtools)
document()
check()
document()
check()
usethis::use_package("dplyr")
usethis::use_package("class")
usethis::use_package("randomForest")
document()
usethis::use_package("dplyr")
usethis::use_package("class")
usethis::use_package("randomForest")
check()
my_penguins <- drop_na(my_penguins)
library(tidyverse)
library(class)
my_penguins <- drop_na(my_penguins)
document()
check()
document()
check()
usethis::use_package("tidyverse")
my_penguins <- drop_na(my_penguins)
document()
check()
lib
library(dyplor)
library(dplyr)
usethis
usethis::use_package(tidyr)
usethis::use_package("tidyr")
check()
document
document()
chec()
check()
check()
document()
check()
document()
check()
usethis::use_package("dplyr")
?drop_na
test_check("STAT302proj3")
library(testthat)
library(STAT302proj3)
test_check("STAT302proj3")
test_that("my_knn_cv returns a numeric Estimate", {
my_penguins <- tidyr::drop_na(my_penguins)
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 1:10, k_cv = 5 ),"list")
})
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species,
k_nn = 1:10, k_cv = 5 ),"list")
test_that("my_knn_cv returns a numeric Estimate", {
my_penguins <- tidyr::drop_na(my_penguins)
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species,
k_nn = 1:10, k_cv = 5 ),"list")
})
?knn
my_penguins <- tidyr::drop_na(my_penguins)
test_that("my_knn_cv returns a numeric Estimate", {
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 1, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 2, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 3, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 4, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 6, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 7, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 8, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 9, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 10, k_cv = 5 ),"list")
})
# test_that("my_knn_cv returns a numeric Estimate", {
#         expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 1 ),"list")
#         expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 2 ),"list")
#         expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 3 ),"list")
#         expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 4 ),"list")
#         expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 5 ),"list")
#         expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 6 ),"list")
#         expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 7 ),"list")
#         expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 8 ),"list")
#         expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 9 ),"list")
#         expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 10 ),"list")
# })
test_that("my_knn_cv returns a numeric Estimate", {
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 1 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 2 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 3 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 4 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 6 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 7 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 8 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 9 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 10 ),"list")
})
test_that("my_knn_cv returns a numeric Estimate", {
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 1 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 2 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 3 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 4 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 5 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 6 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 7 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 8 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 9 ),"list")
expect_is(my_knn_cv(train = my_penguins, cl = my_penguins$species, k_nn = 5, k_cv = 10 ),"list")
})
install.packages("magrittr")
usethis::use_github_action("test-coverage")
usethis::use_pipe()
usethis::use_package("class")
usethis::use_vignette("tutorial", title = "Project 3: STAT302project3 Tutorial")
devtools::install_github("wang-leqi/STAT302proj3")
usethis::use_github_action_check_standard()
document()
library(usethis)
document()
documents()
devtools::document()
devtools::document()
devtools::document()
library(STAT302proj3)
usethis::use_package("tibble")
usethis::use_package("class")
usethis::use_package("randomForest")
usethis::use_package("tidyr")
usethis::use_package("dplyr")
usethis::use_package("ggplot2")
usethis::use_github_action("test-coverage")
setwd("~/Documents/UW_amath/stat302-project3/STAT302proj3")
devtools::install_github("RachuShen/STAT302project3")
setwd("~/Documents/UW_amath/stat302-project3/STAT302proj3")
